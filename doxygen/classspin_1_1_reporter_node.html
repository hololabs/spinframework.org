<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SPIN Framework: spin::ReporterNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SPIN Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>spin</b>      </li>
      <li class="navelem"><a class="el" href="classspin_1_1_reporter_node.html">ReporterNode</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="classspin_1_1_reporter_node.html#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>spin::ReporterNode Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="spin::ReporterNode" --><!-- doxytag: inherits="spin::GroupNode" -->
<p>Reports geometric relations to other nodes in the scene.  
<a href="classspin_1_1_reporter_node.html#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_reporter_node_8h_source.html">ReporterNode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for spin::ReporterNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classspin_1_1_reporter_node.png" usemap="#spin::ReporterNode_map" alt=""/>
  <map id="spin::ReporterNode_map" name="spin::ReporterNode_map">
<area href="classspin_1_1_group_node.html" alt="spin::GroupNode" shape="rect" coords="0,56,137,80"/>
<area href="classspin_1_1_referenced_node.html" alt="spin::ReferencedNode" shape="rect" coords="0,0,137,24"/>
</map>
 </div></div>

<p><a href="classspin_1_1_reporter_node-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1adf4e7a705a62ac93f14471c3b2ee37"></a><!-- doxytag: member="spin::ReporterNode::ReporterNode" ref="a1adf4e7a705a62ac93f14471c3b2ee37" args="(SceneManager *sceneManager, const char *initID)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>ReporterNode</b> (<a class="el" href="classspin_1_1_scene_manager.html">SceneManager</a> *sceneManager, const char *initID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a8bb72bad38f097c674c94529732f8d44">debug</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a386d1fb3518f31d4a1382ba7542a15df">callbackUpdate</a> (osg::NodeVisitor *nv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a7d6c3c7fc295f255cf535bdd170cb352">forceAllReports</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#adbbee61c55713942c5220d7ecc5927df">sendReports</a> (<a class="el" href="structspin_1_1__reporter_target.html">reporterTarget</a> *target)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a87bb6697f326cddfb24c6ecec8126245">addTarget</a> (const char *targetID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a605983d9e20934aeca86127213a24b08">removeTarget</a> (const char *targetID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a3fc9d9fd024ae9a4aa7da0300c12dd96">setReporting</a> (const char *type, bool enabled)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a870833ffca983b55e9b7b4fa3233033c">getReporting</a> (const char *type) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#a38a4132f6c4e45bae53f61ac946fa9f4">setMaxRate</a> (float hz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#ad023292449bc8970b9f58f22e1ac5c24">getMaxRate</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; lo_message &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_reporter_node.html#aea157056ae914bbfc2470bd9605b78f5">getState</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Reports geometric relations to other nodes in the scene. </p>
<p>A list of targets can be specified, and then reports are computed with respect to this node and it's subgraph. One must turn on each of these report types using the setReport method. The current list is:</p>
<p>DISTANCE 'distance' between this and the target</p>
<p>INCIDENCE 'direction' (angle) to the target on the XY plane, and 'incidence', which is the angle difference between the reporterNode's current orientation to that which would point at the target</p>
<p>ANGLES reports the angle difference between the reporterNode's current orientation to that which would point at the target (available in both 'eulers' or 'quaternion' format)</p>
<p>CONTAINMENT whether this node is contained within this bounds of the target's subgraph (note: assumes the target is convex)</p>
<p>OCCLUSION whether the target is occluded (line-of-sight) for this object</p>
<p>Notes:</p>
<ul>
<li>Globals reporting is not related to this node. See <a class="el" href="classspin_1_1_group_node.html" title="A basic node to manage translation/orientation/scale of a subgraph. Allows for grouping of nodes...">GroupNode</a> for more info.</li>
</ul>
<ul>
<li>All angles are reported in radians </li>
</ul>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a87bb6697f326cddfb24c6ecec8126245"></a><!-- doxytag: member="spin::ReporterNode::addTarget" ref="a87bb6697f326cddfb24c6ecec8126245" args="(const char *targetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::addTarget </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>targetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a target node to the report list </p>

</div>
</div>
<a class="anchor" id="a386d1fb3518f31d4a1382ba7542a15df"></a><!-- doxytag: member="spin::ReporterNode::callbackUpdate" ref="a386d1fb3518f31d4a1382ba7542a15df" args="(osg::NodeVisitor *nv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::callbackUpdate </td>
          <td>(</td>
          <td class="paramtype">osg::NodeVisitor *&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The update callback for <a class="el" href="classspin_1_1_reporter_node.html" title="Reports geometric relations to other nodes in the scene.">ReporterNode</a> checks to see if a target or the the ReporterNode's global matrix has changed (ie, whether it has been moved or not). If so, it updates the internal matrices, and calls <a class="el" href="classspin_1_1_reporter_node.html#adbbee61c55713942c5220d7ecc5927df">sendReports()</a> </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_group_node.html#a27b2cf96910b6d433fc6bfee9cd71da2">spin::GroupNode</a>.</p>

</div>
</div>
<a class="anchor" id="a8bb72bad38f097c674c94529732f8d44"></a><!-- doxytag: member="spin::ReporterNode::debug" ref="a8bb72bad38f097c674c94529732f8d44" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::debug </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print debug information about the node to standard out (when running in console mode). It may be possible to redirect this to a text box for GUI logs. </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_group_node.html#a112420ddf8c5a93261b30b997ace3bfe">spin::GroupNode</a>.</p>

</div>
</div>
<a class="anchor" id="a7d6c3c7fc295f255cf535bdd170cb352"></a><!-- doxytag: member="spin::ReporterNode::forceAllReports" ref="a7d6c3c7fc295f255cf535bdd170cb352" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::forceAllReports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sometimes something happens in the scene that might not change the matrices of the reporter or the target (eg, a <a class="el" href="classspin_1_1_switch_node.html" title="Allows for selectively enabling/disabling child nodes.">SwitchNode</a> changes the visibility of the node). This method allows us to force a recomputation of all reports in such a case. </p>

</div>
</div>
<a class="anchor" id="ad023292449bc8970b9f58f22e1ac5c24"></a><!-- doxytag: member="spin::ReporterNode::getMaxRate" ref="ad023292449bc8970b9f58f22e1ac5c24" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float spin::ReporterNode::getMaxRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This returns the current set reporting rate in Hz. </p>

</div>
</div>
<a class="anchor" id="a870833ffca983b55e9b7b4fa3233033c"></a><!-- doxytag: member="spin::ReporterNode::getReporting" ref="a870833ffca983b55e9b7b4fa3233033c" args="(const char *type) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spin::ReporterNode::getReporting </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This returns the reporting type that is currently set. </p>

</div>
</div>
<a class="anchor" id="aea157056ae914bbfc2470bd9605b78f5"></a><!-- doxytag: member="spin::ReporterNode::getState" ref="aea157056ae914bbfc2470bd9605b78f5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lo_message &gt; spin::ReporterNode::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For each subclass of <a class="el" href="classspin_1_1_referenced_node.html" title="The base class for all SPIN scene graph nodes.">ReferencedNode</a>, we override the <a class="el" href="classspin_1_1_reporter_node.html#aea157056ae914bbfc2470bd9605b78f5">getState()</a> method to fill the vector with the correct set of methods for this particular node </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_group_node.html#ae1325b91e622456912bd00e9e3de664b">spin::GroupNode</a>.</p>

</div>
</div>
<a class="anchor" id="a605983d9e20934aeca86127213a24b08"></a><!-- doxytag: member="spin::ReporterNode::removeTarget" ref="a605983d9e20934aeca86127213a24b08" args="(const char *targetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::removeTarget </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>targetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove a target from the report list </p>

</div>
</div>
<a class="anchor" id="adbbee61c55713942c5220d7ecc5927df"></a><!-- doxytag: member="spin::ReporterNode::sendReports" ref="adbbee61c55713942c5220d7ecc5927df" args="(reporterTarget *target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::sendReports </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structspin_1_1__reporter_target.html">reporterTarget</a> *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sendReports checks which reportTypes are enabled, and actually performs computation for necessary reports, which are then sent out on the network </p>

</div>
</div>
<a class="anchor" id="a38a4132f6c4e45bae53f61ac946fa9f4"></a><!-- doxytag: member="spin::ReporterNode::setMaxRate" ref="a38a4132f6c4e45bae53f61ac946fa9f4" args="(float hz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::setMaxRate </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the maximum reporting rate (hz). Note: updates are only sent when necessary, so there is no constant reporting mode. </p>

</div>
</div>
<a class="anchor" id="a3fc9d9fd024ae9a4aa7da0300c12dd96"></a><!-- doxytag: member="spin::ReporterNode::setReporting" ref="a3fc9d9fd024ae9a4aa7da0300c12dd96" args="(const char *type, bool enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::ReporterNode::setReporting </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This enables or disables a particular reporting type </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_reporter_node_8h_source.html">ReporterNode.h</a></li>
<li>src/spin/ReporterNode.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
