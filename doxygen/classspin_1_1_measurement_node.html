<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SPIN Framework: spin::MeasurementNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SPIN Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>spin</b>      </li>
      <li class="navelem"><a class="el" href="classspin_1_1_measurement_node.html">MeasurementNode</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="classspin_1_1_measurement_node.html#pub-types">Public Types</a> &#124;
<a href="classspin_1_1_measurement_node.html#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>spin::MeasurementNode Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="spin::MeasurementNode" --><!-- doxytag: inherits="spin::ReferencedNode" -->
<p>Reports geometric measurements in relation to another node.  
<a href="classspin_1_1_measurement_node.html#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_measurement_node_8h_source.html">MeasurementNode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for spin::MeasurementNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classspin_1_1_measurement_node.png" usemap="#spin::MeasurementNode_map" alt=""/>
  <map id="spin::MeasurementNode_map" name="spin::MeasurementNode_map">
<area href="classspin_1_1_referenced_node.html" alt="spin::ReferencedNode" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>

<p><a href="classspin_1_1_measurement_node-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1f">reportMode</a> { <a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1faa05dc795e43c99a7d83ed0c1a2747bcd">REPORT_NONE</a>, 
<a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1fa72b44c8fbca7aaa8be9233d6ded5a3fa">REPORT_BASIC</a>, 
<a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1faff5e14a13e85724c7a752b5beb416608">REPORT_ANGLES</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a619ae732c4d30c94adbbbc5d6b95b7d5"></a><!-- doxytag: member="spin::MeasurementNode::MeasurementNode" ref="a619ae732c4d30c94adbbbc5d6b95b7d5" args="(SceneManager *sceneManager, const char *initID)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>MeasurementNode</b> (<a class="el" href="classspin_1_1_scene_manager.html">SceneManager</a> *sceneManager, const char *initID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#ac38e081b00ed1e576b301689975ce535">callbackUpdate</a> (osg::NodeVisitor *nv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#aa3df257baa8e1513e5eca4834c09fd87">sendMeasurements</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#afa0a6201829b522278fd6b8eaf505736">setTarget</a> (const char *targetID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#ad83dc21a857ac5d365f9f45065a68c36">setReportingLevel</a> (<a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1f">reportMode</a> level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#a144d9822c18fedf665bbce80953e9f5b">getTarget</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#ae34b697d5343aaf9c9ed4caee9576957">getReportingLevel</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; lo_message &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_measurement_node.html#a6d36590e5074640354eb2609d7684e80">getState</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Reports geometric measurements in relation to another node. </p>
<p>A targetNode must be specified, and then measurements (such as distance, relative orientation, etc.) are computed and broadcasted.</p>
<p>The following items are measured:</p>
<p>distance the distance to the target direction the absolute direction (angle) on the XY plane incidence the angle difference between the measurement node's current orientation to that which would point at the target eulers the angle difference separated into pitch, roll, and yaw components (NOTE: possible inaccuracies due to gimbal lock) quaternion the rotation required to point at the target</p>
<p>Other notes:</p>
<ul>
<li>all angles are reported in radians</li>
<li>the reportMode must be set to enable some measurements </li>
</ul>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="aa9db770e816408360aa9d9aa06a4fb1f"></a><!-- doxytag: member="spin::MeasurementNode::reportMode" ref="aa9db770e816408360aa9d9aa06a4fb1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1f">spin::MeasurementNode::reportMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Level of reporting that is sent (see setReportingLevel for more details) </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa9db770e816408360aa9d9aa06a4fb1faa05dc795e43c99a7d83ed0c1a2747bcd"></a><!-- doxytag: member="REPORT_NONE" ref="aa9db770e816408360aa9d9aa06a4fb1faa05dc795e43c99a7d83ed0c1a2747bcd" args="" -->REPORT_NONE</em>&nbsp;</td><td>
<p>sends no measurements </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa9db770e816408360aa9d9aa06a4fb1fa72b44c8fbca7aaa8be9233d6ded5a3fa"></a><!-- doxytag: member="REPORT_BASIC" ref="aa9db770e816408360aa9d9aa06a4fb1fa72b44c8fbca7aaa8be9233d6ded5a3fa" args="" -->REPORT_BASIC</em>&nbsp;</td><td>
<p>sends distance, absolute direction and incidence of orientation </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa9db770e816408360aa9d9aa06a4fb1faff5e14a13e85724c7a752b5beb416608"></a><!-- doxytag: member="REPORT_ANGLES" ref="aa9db770e816408360aa9d9aa06a4fb1faff5e14a13e85724c7a752b5beb416608" args="" -->REPORT_ANGLES</em>&nbsp;</td><td>
<p>sends the same as REPORT_BASIC, plus rotation information to target with respect to the MeasurementNode's current position and orientation (available as either euler angles or quaternion) </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac38e081b00ed1e576b301689975ce535"></a><!-- doxytag: member="spin::MeasurementNode::callbackUpdate" ref="ac38e081b00ed1e576b301689975ce535" args="(osg::NodeVisitor *nv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::MeasurementNode::callbackUpdate </td>
          <td>(</td>
          <td class="paramtype">osg::NodeVisitor *&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The update callback for <a class="el" href="classspin_1_1_measurement_node.html" title="Reports geometric measurements in relation to another node.">MeasurementNode</a> checks to see if the target's or the MeasurementNode's global matrix has changed (ie, whether it has been moved or not). If so, it updates the internal matrices, and calls <a class="el" href="classspin_1_1_measurement_node.html#aa3df257baa8e1513e5eca4834c09fd87">sendMeasurements()</a> </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_referenced_node.html#ae503bb313b07aa320178465eefdb20f0">spin::ReferencedNode</a>.</p>

</div>
</div>
<a class="anchor" id="ae34b697d5343aaf9c9ed4caee9576957"></a><!-- doxytag: member="spin::MeasurementNode::getReportingLevel" ref="ae34b697d5343aaf9c9ed4caee9576957" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spin::MeasurementNode::getReportingLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an integer representing the level of reporting as set in the ReportMode enum. </p>

</div>
</div>
<a class="anchor" id="a6d36590e5074640354eb2609d7684e80"></a><!-- doxytag: member="spin::MeasurementNode::getState" ref="a6d36590e5074640354eb2609d7684e80" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lo_message &gt; spin::MeasurementNode::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For each subclass of <a class="el" href="classspin_1_1_referenced_node.html" title="The base class for all SPIN scene graph nodes.">ReferencedNode</a>, we override the <a class="el" href="classspin_1_1_measurement_node.html#a6d36590e5074640354eb2609d7684e80">getState()</a> method to fill the vector with the correct set of methods for this particular node </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_referenced_node.html#a875b90ba80e27602a3b3a0af45f0d78c">spin::ReferencedNode</a>.</p>

</div>
</div>
<a class="anchor" id="a144d9822c18fedf665bbce80953e9f5b"></a><!-- doxytag: member="spin::MeasurementNode::getTarget" ref="a144d9822c18fedf665bbce80953e9f5b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* spin::MeasurementNode::getTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the name of the target node (the node being measured. </p>

</div>
</div>
<a class="anchor" id="aa3df257baa8e1513e5eca4834c09fd87"></a><!-- doxytag: member="spin::MeasurementNode::sendMeasurements" ref="aa3df257baa8e1513e5eca4834c09fd87" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::MeasurementNode::sendMeasurements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sendMeasurements is where the actual computation takes place, and, depending on the reportMode, the measurements are sent out on the network </p>

</div>
</div>
<a class="anchor" id="ad83dc21a857ac5d365f9f45065a68c36"></a><!-- doxytag: member="spin::MeasurementNode::setReportingLevel" ref="ad83dc21a857ac5d365f9f45065a68c36" args="(reportMode level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::MeasurementNode::setReportingLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classspin_1_1_measurement_node.html#aa9db770e816408360aa9d9aa06a4fb1f">reportMode</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This sets the level of reporting (choose a reportMode) </p>

</div>
</div>
<a class="anchor" id="afa0a6201829b522278fd6b8eaf505736"></a><!-- doxytag: member="spin::MeasurementNode::setTarget" ref="afa0a6201829b522278fd6b8eaf505736" args="(const char *targetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::MeasurementNode::setTarget </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>targetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classspin_1_1_measurement_node.html" title="Reports geometric measurements in relation to another node.">MeasurementNode</a> requires a targetNode to be set, which defines which node in the scene is being measured. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_measurement_node_8h_source.html">MeasurementNode.h</a></li>
<li>src/spin/MeasurementNode.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
