<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SPIN Framework: spin::UserNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SPIN Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>spin</b>      </li>
      <li class="navelem"><a class="el" href="classspin_1_1_user_node.html">UserNode</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="classspin_1_1_user_node.html#pub-methods">Public Member Functions</a> &#124;
<a href="classspin_1_1_user_node.html#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>spin::UserNode Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="spin::UserNode" --><!-- doxytag: inherits="spin::ConstraintsNode" -->
<p>Represents a user in the scene.  
<a href="classspin_1_1_user_node.html#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_user_node_8h_source.html">UserNode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for spin::UserNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classspin_1_1_user_node.png" usemap="#spin::UserNode_map" alt=""/>
  <map id="spin::UserNode_map" name="spin::UserNode_map">
<area href="classspin_1_1_constraints_node.html" alt="spin::ConstraintsNode" shape="rect" coords="0,112,137,136"/>
<area href="classspin_1_1_group_node.html" alt="spin::GroupNode" shape="rect" coords="0,56,137,80"/>
<area href="classspin_1_1_referenced_node.html" alt="spin::ReferencedNode" shape="rect" coords="0,0,137,24"/>
</map>
 </div></div>

<p><a href="classspin_1_1_user_node-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a849c5e036d30f1459825dfe6a8c9c226"></a><!-- doxytag: member="spin::UserNode::UserNode" ref="a849c5e036d30f1459825dfe6a8c9c226" args="(SceneManager *sceneManager, const char *initID)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>UserNode</b> (<a class="el" href="classspin_1_1_scene_manager.html">SceneManager</a> *sceneManager, const char *initID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a30bacda49ee478fe603d6ef2ea85e4b9">callbackUpdate</a> (osg::NodeVisitor *nv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#ac46ece0a9449d09bd903d6a64abfa9d3">updateNodePath</a> (bool updateChildren)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#ad5a883e05501bc6c1c5fc3a47964b0a8">setDescription</a> (const char *s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a96c697304bbaa4d4473250d2fd2e4201">getDescription</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::PositionAttitudeTransform *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a61bb46c84049f93bfc6d10ad5dbdbd39">getCameraAttachmentNode</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a254b74c8bd9c94eb3d21421341ba16ea"></a><!-- doxytag: member="spin::UserNode::getCameraOffsetNode" ref="a254b74c8bd9c94eb3d21421341ba16ea" args="() const " -->
osg::PositionAttitudeTransform *&#160;</td><td class="memItemRight" valign="bottom"><b>getCameraOffsetNode</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#abecb55cfc4543c2a792231ed5e54ef34">setHome</a> (float x, float y, float z, float pitch, float roll, float yaw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a937adab80ce8fbb762059026ee5a33d1">goHome</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a36e30666778590da0ef727304164e15f">setCameraOffset</a> (float x, float y, float z)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f6b2fe967a7501164db56a78192bfec"></a><!-- doxytag: member="spin::UserNode::getCameraOffset" ref="a1f6b2fe967a7501164db56a78192bfec" args="() const " -->
osg::Vec3&#160;</td><td class="memItemRight" valign="bottom"><b>getCameraOffset</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#af0697c375152710a75e2dd66d29bf5ee">setCameraOrientation</a> (float pitch, float roll, float yaw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aded129d8ac051601d2913606d37135bf"></a><!-- doxytag: member="spin::UserNode::getCameraOrientation" ref="aded129d8ac051601d2913606d37135bf" args="() const " -->
osg::Vec3&#160;</td><td class="memItemRight" valign="bottom"><b>getCameraOrientation</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#ac75636f6fd93adc95e2fa7edbc3aa5bd">setCameraOrientationQuat</a> (float x, float y, float z, float w)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f2a125e81a0817d943dc932e4f6dc52"></a><!-- doxytag: member="spin::UserNode::getCameraOrientationQuat" ref="a5f2a125e81a0817d943dc932e4f6dc52" args="() const " -->
osg::Quat&#160;</td><td class="memItemRight" valign="bottom"><b>getCameraOrientationQuat</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#af2cb1c4207d4d04d67a17a75a2a21b6d">ping</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Timer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#ac862521912ed8d03a6da7f042ff8c3d2">getLastPing</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; lo_message &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspin_1_1_user_node.html#a052f5cea8ccd3c28953457e69d03385f">getState</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa27499270b10cd2d049a554868a38613"></a><!-- doxytag: member="spin::UserNode::nodepathUpdate" ref="aa27499270b10cd2d049a554868a38613" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>nodepathUpdate</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents a user in the scene. </p>
<p>This class is used to differentiate users from scene content. its main use is to control a camera for viewing the scene The subgraph may contain:</p>
<ul>
<li>the attached camera</li>
<li>a graphical avatar to provide an objective representation of the user</li>
<li>various soundNodes that correspond to the user's loudspeaker setup</li>
<li>etc.</li>
</ul>
<p>It is important to note that anything attached to a UserNode's subgraph will not be saved with the scene. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a30bacda49ee478fe603d6ef2ea85e4b9"></a><!-- doxytag: member="spin::UserNode::callbackUpdate" ref="a30bacda49ee478fe603d6ef2ea85e4b9" args="(osg::NodeVisitor *nv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::callbackUpdate </td>
          <td>(</td>
          <td class="paramtype">osg::NodeVisitor *&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="classspin_1_1_user_node.html" title="Represents a user in the scene.">UserNode</a> needs an update callback to check if ping messages are still being received. If not, the node and it's subgraph should be removed. Please note that if the user node NEVER sends a ping, not even once, then it will be excluded from this obligation. </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_constraints_node.html#ada7fe0a149089422aa3e9880da50a654">spin::ConstraintsNode</a>.</p>

</div>
</div>
<a class="anchor" id="a61bb46c84049f93bfc6d10ad5dbdbd39"></a><!-- doxytag: member="spin::UserNode::getCameraAttachmentNode" ref="a61bb46c84049f93bfc6d10ad5dbdbd39" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::PositionAttitudeTransform* spin::UserNode::getCameraAttachmentNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is where you attach cameras for the user.</p>
<p>The standard <a class="el" href="classspin_1_1_viewer_manipulator.html" title="This class provides camera control and picking for viewers that render a SPIN scene.">ViewerManipulator</a> for SPIN derives from OSG's NodeTrackerManipulator, which tracks (points to) the center of a subgraph's bounding sphere. We want to keep that bound empty so that we may effectively place the camera right at the UserNode's location. If we attach geometry under this, the camera will point at the center of that geometry instead. </p>

</div>
</div>
<a class="anchor" id="a96c697304bbaa4d4473250d2fd2e4201"></a><!-- doxytag: member="spin::UserNode::getDescription" ref="a96c697304bbaa4d4473250d2fd2e4201" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* spin::UserNode::getDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a string containing the user-entered description for this node. </p>

</div>
</div>
<a class="anchor" id="ac862521912ed8d03a6da7f042ff8c3d2"></a><!-- doxytag: member="spin::UserNode::getLastPing" ref="ac862521912ed8d03a6da7f042ff8c3d2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Timer_t spin::UserNode::getLastPing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the timestamp of the last ping in unsigned long long format. </p>

</div>
</div>
<a class="anchor" id="a052f5cea8ccd3c28953457e69d03385f"></a><!-- doxytag: member="spin::UserNode::getState" ref="a052f5cea8ccd3c28953457e69d03385f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lo_message &gt; spin::UserNode::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For each subclass of <a class="el" href="classspin_1_1_referenced_node.html" title="The base class for all SPIN scene graph nodes.">ReferencedNode</a>, we override the <a class="el" href="classspin_1_1_user_node.html#a052f5cea8ccd3c28953457e69d03385f">getState()</a> method to fill the vector with the correct set of methods for this particular node </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_constraints_node.html#a28a27957ebba3121911c77c381a65cce">spin::ConstraintsNode</a>.</p>

</div>
</div>
<a class="anchor" id="a937adab80ce8fbb762059026ee5a33d1"></a><!-- doxytag: member="spin::UserNode::goHome" ref="a937adab80ce8fbb762059026ee5a33d1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::goHome </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send the user to his (or her) home position </p>

</div>
</div>
<a class="anchor" id="af2cb1c4207d4d04d67a17a75a2a21b6d"></a><!-- doxytag: member="spin::UserNode::ping" ref="af2cb1c4207d4d04d67a17a75a2a21b6d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::ping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pings the server. </p>

</div>
</div>
<a class="anchor" id="a36e30666778590da0ef727304164e15f"></a><!-- doxytag: member="spin::UserNode::setCameraOffset" ref="a36e30666778590da0ef727304164e15f" args="(float x, float y, float z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::setCameraOffset </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the camera offset (from the UserNode's local origin). The default is (0,0,0), meaning that the camera position is exactly aligned with the <a class="el" href="classspin_1_1_user_node.html" title="Represents a user in the scene.">UserNode</a>. </p>

</div>
</div>
<a class="anchor" id="af0697c375152710a75e2dd66d29bf5ee"></a><!-- doxytag: member="spin::UserNode::setCameraOrientation" ref="af0697c375152710a75e2dd66d29bf5ee" args="(float pitch, float roll, float yaw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::setCameraOrientation </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set's the (local) orientation of the camera. The default is looking along the +Y axis with +Z up and +X to the right. </p>

</div>
</div>
<a class="anchor" id="ac75636f6fd93adc95e2fa7edbc3aa5bd"></a><!-- doxytag: member="spin::UserNode::setCameraOrientationQuat" ref="ac75636f6fd93adc95e2fa7edbc3aa5bd" args="(float x, float y, float z, float w)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::setCameraOrientationQuat </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Provides a mechanism to set the orientation with a quaternion </p>

</div>
</div>
<a class="anchor" id="ad5a883e05501bc6c1c5fc3a47964b0a8"></a><!-- doxytag: member="spin::UserNode::setDescription" ref="ad5a883e05501bc6c1c5fc3a47964b0a8" args="(const char *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::setDescription </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a user-entered description for the node. </p>

</div>
</div>
<a class="anchor" id="abecb55cfc4543c2a792231ed5e54ef34"></a><!-- doxytag: member="spin::UserNode::setHome" ref="abecb55cfc4543c2a792231ed5e54ef34" args="(float x, float y, float z, float pitch, float roll, float yaw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::setHome </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The home position is the pose that the user returns to when sent home </p>

</div>
</div>
<a class="anchor" id="ac46ece0a9449d09bd903d6a64abfa9d3"></a><!-- doxytag: member="spin::UserNode::updateNodePath" ref="ac46ece0a9449d09bd903d6a64abfa9d3" args="(bool updateChildren)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spin::UserNode::updateNodePath </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>updateChildren</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="classspin_1_1_user_node.html" title="Represents a user in the scene.">UserNode</a> is used by OSG's NodeTrackerManipulator to position a camera for the user. However, NodeTrackerManipulator doesn't check if the nodepath has changed, so we override <a class="el" href="classspin_1_1_user_node.html#ac46ece0a9449d09bd903d6a64abfa9d3">updateNodePath()</a> and set a nodepathUpdate flag for the manipulator to see. </p>

<p>Reimplemented from <a class="el" href="classspin_1_1_group_node.html#a6b795155d2275443ff6776cc900f5097">spin::GroupNode</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_user_node_8h_source.html">UserNode.h</a></li>
<li>src/spin/UserNode.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
